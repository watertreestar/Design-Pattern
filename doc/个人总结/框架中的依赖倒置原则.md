# 寻找框架设计中的依赖倒置原则

很多框架在设计上都遵循一个重要的原则-**依赖倒置原则**.

依赖倒转原则是高层模块不能依赖低层模块，它们应该共同依赖一个抽象，这个抽象由高层模块定义，由低层模块实现。

那么，这里所谓的高层模块和低层模块如何定义呢？就是我们怎么去划分一个系统中的高层模块和低层模型。

我们可以这样来区分，在方法调用链路上，处于前面的是高层模块，靠后的是低层模块

例如：在依赖倒置原则中我们的示例代码中，`Student`这个类就是高层模块，被调用的`JavaCourse`属于低层模块。
但是我们不应该直接依赖于JavaCourse这个细节实现类。

## 架构设计中的依赖倒置原则

我们以很熟悉的Java Web举例，请求到达应用服务器后(假设是Tomcat),服务器封装我们的请求,然后轮到Spring MVC处理，Spring MVC经过
一系列的处理后，分发请求到对应的Controller处理,也就是我们自己写的代码。

在这里面，Tomcat相对于Spring MVC就是高层模块，Spring MVC相对于我们自己的代码就是高层模块。

但是在Tomcat中，并没有依赖于Spring MVC,那么请求是如何从Tomcat流转到Spring MVC中的呢。熟悉J2EE的人就知道，它们中间有一个标准-**Servlet**.
在Spring MVC中，DispatcherServlet实现了Servlet规范中的HttpServlet抽象类。它们都共同依赖了一个抽象-Servlet.

同样地，SpringMVC也不会依赖于我们自己写的代码。而是使用配置文件或者注解这样的抽象，来调用我们自己的代码。


## Spring中的依赖倒置原则



